---
layout: "default"
---

<style type="text/css">
 .back-to-top {
   font-size: 2em;
   opacity: 0.75;
   position: fixed;
   bottom: 10px;
   left: 10px;
   padding: 10px 15px;
 }
 .b1g1-container, .b3g1-container {
   background-color: #673191;
   color: #FFFFFF;
   height: 70px;
   font-size: 18px;
   font-weight: 600;
   text-transform: none;
   text-align: center;
   padding: 10px;
   display: flex;
   justify-content: center;
   align-items: center;
 }
 .b1g1-text, .b3g1-text {
   text-transform: uppercase;
 }
 #gallery-container {
   align-items: center;
   border: 1px solid #673191;
   display: flex;
   flex-flow: column nowrap;
   margin-top: 20px;
   padding: 10px;
 }
 #gallery {
   display: flex;
   flex: 1 1 auto;
   flex-flow: row wrap;
 }
 label.filter-option {
   margin-right: 10px;
 }
 .navbar-left {
   float: none !important;
 }
</style>

<div id="view-home" class="container-fluid">
  <div id="gallery-container">
    <div id="gallery"></div>
  </div>
</div>

<a href="#" class="back-to-top btn btn-primary" title="back to top of page">
  <span aria-hidden="true" class="glyphicon glyphicon-collapse-up"></span></a>

<div id="confirm-selections" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Please Review Your Selections</h4>
      </div>
      <div class="modal-body">
        <form id="order-form">
          <input name="email" type="hidden">
          <input type="hidden" id="idstamp" name="idstamp" value="6JFrpwrJAExi0D0uVGnulrHxMFzazGLQFsA7ftnybzc=">
          <div class="form-group">
            <label for="selected-sets">Your selections:</label>
            <textarea id="selected-sets" class="form-control" name="Field101" rows="5"></textarea>
          </div>
          <div class="form-group">
            <label for="first-name">First name</label>
            <input type="text" class="form-control" id="first-name" name="Field107" placeholder="" required>
            <label for="last-name">Last name</label>
            <input type="text" class="form-control" id="last-name" name="Field108" placeholder="" required>
          </div>
          <div class="form-group">
            <label for="email-address">Email address</label>
            <input type="email" class="form-control" id="email-address" name="Field109" placeholder="" required>
          </div>
          <div class="form-group">
            <div class="checkbox">
              <label>
                <input type="checkbox" name="Field1" id="gift-bag-option" style="margin-top: 8px">
                Yes, I'd like to make this order a gift bag for $3 more. Gift bags include a glass
                nail file, a cuticle revitalizer nail oil pen, a rubber tipped cuticle pusher,
                organza gift bag and a personalized message.
              </label>
            </div>
          </div>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Send Amy my selections</button>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="application/javascript">
 const stock = [
   { image: 'caribbean-coral.png', categories: 'solid creme', quantity: 1},
   { image: 'chelsea-you-later.png', categories: 'glitter', quantity: 1},
   { image: 'coming-up-rose-gold.png', categories: 'glitter clear', quantity: 1},
   { image: 'czech-me-out.png', categories: 'glitter', quantity: 1},
   { image: 'dripping-in-diamonds.png', categories: 'glitter clear', quantity: 1},
   { image: 'fort-worth-it.png', categories: 'glitter', quantity: 1},
   { image: 'how-swede-it-is.png', categories: 'glitter pedicure', quantity: 1},
   { image: 'manchester-mauve.png', categories: 'solid creme', quantity: 1},
   { image: 'poppy-that.png', categories: 'design retired', quantity: 1}
 ];

 stock.forEach(item => {
   const itemId = item.image.split('.')[0];
   const itemName = itemId.replaceAll('-', ' ');
   $('#gallery')
     .append(
       $('<div>')
         .addClass('panel panel-default ' + item.categories)
         .attr('data-set-name', itemName)
         .css('margin-right', '10px')
         .append(
           $('<div>')
             .addClass('panel-body')
             .append(
               $('<img>', { src: '/assets/images/on-hand-sets/thumbnail-' + item.image, alt: itemName })
             )
         )
         .append(
           $('<div>')
             .addClass('panel-footer')
             .css('display', 'flex')
             .css('justify-content', 'space-between')
             .append(
               $('<div>')
                 .css('text-align', 'right')
                 .append(
                   $('<div>').text(itemName.toUpperCase())
                 )
                 .append(
                   $('<a>', { href: '/assets/images/on-hand-sets/' + item.image, target: '_blank', title: 'Open ' + itemName + ' in new tab'})
                     .css('align-self', 'center')
                     .append(
                       $('<span>').text('View larger photo ')
                     )
                     .append(
                       $('<span>', { 'aria-hidden': 'true' })
                         .addClass('glyphicon glyphicon-new-window')
                     )
                 )
             )
         )
     );
 });

 $('#gallery button').click((event) => {
   const button = $(event.target).closest('button');
   const itemName = $(button).attr('id');
   const isSelected = ($(button).attr('class').indexOf('btn-primary') !== -1);
   if (isSelected) {
     $(button).removeClass('btn-primary').addClass('btn-secondary').text('Select');
   } else {
     $(button).removeClass('btn-secondary').addClass('btn-primary').html('Selected <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>');
   }
 });

 $('button#selections-complete').click(() => {
   var selections = [];
   $('#gallery button.btn-primary').each((_, button) => {
     const itemName = button.id.replaceAll('-', ' ');
     selections.push(itemName.toUpperCase());
   });
   if (selections.length > 0) {
     $('#selected-sets').val(selections.sort().join(', '));
     $('#confirm-selections').modal();
   }
 });

 $('button#clear-selections').click(() => {
   $('#gallery button').removeClass('btn-primary').addClass('btn-secondary').text('Select');
 });

 $('#order-form').submit(function(event) {
   event.preventDefault();
   var isSpamBot = $(this).find('input[name=email]').val();
   if (!isSpamBot) {
     // Remove the honey pot from the form.
     $(this).children('input[name=email]').remove();

     var form = new FormData(this);
     $.ajax({
       type: 'POST',
       enctype: 'multipdesign/form-data',
       url: 'https://easynailsvip.wufoo.com/forms/stock-order-form',
       data: form,
       processData: false,
       contentType: false,
       cache: false,
       timeout: 800000,
       error: () => {
         $('#view-home').prepend(
           $('<div>')
             .addClass('alert alert-success')
             .attr('role', 'alert')
             .text('Thank you! I will contact you as soon as possible to finalize your order.')
         );
         $('#gallery button.btn-primary').removeClass('btn-primary').addClass('btn-secondary').text('Select');
         $('#confirm-selections').modal('hide');
       },
       success: () => {
         $('#view-home').prepend(
           $('<div>')
             .addClass('alert alert-success')
             .attr('role', 'alert')
             .text('Thank you! I will contact you as soon as possible to finalize your order.')
         );
         $('#gallery button.btn-primary').removeClass('btn-primary').addClass('btn-secondary').text('Select');
         $('#confirm-selections').modal('hide');
       }
     });
   }
 });

 function matchesFilterAndCategories(colorStreetSet, filterText, categories) {
   var filterMatch = filterText.length === 0;
   const setName = colorStreetSet.dataset.setName;
   filterText.forEach((filter) => {
     if (setName.indexOf(filter.toLowerCase()) !== -1) {
       filterMatch = true;
     }
   });

   var categoryMatch = categories.length === 0;
   const setCategories = colorStreetSet.className;
   categories.forEach((category) => {
     if (setCategories.indexOf(category) !== -1) {
       categoryMatch = true;
     }
   });

   return filterMatch && categoryMatch;
 }

 function applyFilters() {
   const searchBox = $('#txtSearchBox').val().trim();
   var categories = [];
   $('label.filter-option input[type=checkbox]:checked').each((index, filterOption) => {
     categories.push(filterOption.value);
   });

   // Gather all gallery sets.
   const sets = $('#gallery').find('div[data-set-name]');
   const words = searchBox.length > 0 ? searchBox.split(' ') : [];
   if (categories.length === 0 && words.length === 0) { // Show all sets on empty filters.
     sets.show();
     return;
   }

   sets.each((index, colorStreetSet) => {
     if (matchesFilterAndCategories(colorStreetSet, words, categories)) {
       $(colorStreetSet).show();
     } else {
       $(colorStreetSet).hide();
     }
   });
 }

 $('input#btnSearch').click(applyFilters);
 $('label.filter-option input[type=checkbox]').change(applyFilters);
 $('input#btnClearCategories').click(() => {
   $('#txtSearchBox').val('');
   $('label.filter-option input[type=checkbox]:checked').prop('checked', false);
   $('#gallery').find('div[data-set-name]').show();
 });
</script>
